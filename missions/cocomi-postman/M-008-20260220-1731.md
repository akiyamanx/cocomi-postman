# ðŸ“® M-008: æˆåŠŸæ™‚ã«ã‚‚ä½œæ¥­ã‚µãƒžãƒªãƒ¼ã‚’ãƒ¬ãƒãƒ¼ãƒˆã«å«ã‚ã‚‹

## æ¦‚è¦
Claude Codeå®Ÿè¡ŒãŒæˆåŠŸã—ãŸæ™‚ã«ã‚‚ã€ä½œæ¥­å†…å®¹ã®ã‚µãƒžãƒªãƒ¼ã‚’ãƒ¬ãƒãƒ¼ãƒˆã«å«ã‚ã‚‹ã€‚
ã‚¨ãƒ©ãƒ¼æ™‚ã®äºŒå±¤æ§‹é€ ãƒ¬ãƒãƒ¼ãƒˆã¨åŒã˜å½¢å¼ã§ã€æˆåŠŸæ™‚ã‚‚ã€Œä½•ã‚’ã—ãŸã‹ã€ã‚’è¨˜éŒ²ã™ã‚‹ã€‚

## ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«

### 1. core/retry.sh

run_with_retry() ã®æˆåŠŸæ™‚ï¼ˆreturn 0ã®ç›´å‰ã€3ç®‡æ‰€ï¼‰ã«ã€
ä½œæ¥­ã‚µãƒžãƒªãƒ¼å–å¾—å‡¦ç†ã‚’è¿½åŠ ã™ã‚‹ã€‚

å…·ä½“çš„ã«ã¯ã€ä»¥ä¸‹ã®3ç®‡æ‰€ã®return 0ã®ç›´å‰ã«åŒã˜å‡¦ç†ã‚’è¿½åŠ ï¼š
- 38è¡Œç›®ï¼ˆåˆå›žæˆåŠŸæ™‚ï¼‰
- 58è¡Œç›®ï¼ˆãƒªãƒˆãƒ©ã‚¤æˆåŠŸæ™‚ï¼‰  
- 74è¡Œç›®ï¼ˆ--continueæˆåŠŸæ™‚ï¼‰

è¿½åŠ ã™ã‚‹å‡¦ç†ï¼š
```bash
# v1.5è¿½åŠ  - æˆåŠŸæ™‚ã‚‚ä½œæ¥­ã‚µãƒžãƒªãƒ¼ã‚’å–å¾—
ANALYSIS=$(claude -p "Summarize what you just did:
- What files were created/modified/deleted
- What was the main task accomplished
- Any issues encountered during the work
Report in English. Be concise." --continue 2>&1)
if [ -z "$ANALYSIS" ]; then
    ANALYSIS="(No summary available)"
fi
```

### 2. core/executor.sh

run_single_mission() ã®æˆåŠŸæ™‚ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆéƒ¨åˆ†ã‚’ä¿®æ­£ã€‚
ç¾åœ¨ã®ç°¡ç´ ãªãƒ¬ãƒãƒ¼ãƒˆã‚’äºŒå±¤æ§‹é€ ã«å¤‰æ›´ã™ã‚‹ã€‚

ç¾åœ¨ã®æˆåŠŸãƒ¬ãƒãƒ¼ãƒˆï¼ˆcat > ... << EOF ã®éƒ¨åˆ†ï¼‰ã‚’ä»¥ä¸‹ã«ç½®æ›ï¼š
```
# âœ… Mission Report: ${MISSION_NAME}

## ðŸ“± ã‚¢ã‚­ãƒ¤å‘ã‘ã‚µãƒžãƒªãƒ¼ï¼ˆæ—¥æœ¬èªžï¼‰
- **çŠ¶æ…‹:** âœ… æˆåŠŸ
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ:** ${CURRENT_PROJECT_NAME}
- **å®Œäº†æ—¥æ™‚:** $(date '+%Y-%m-%d %H:%M')

---

## ðŸ¤– AI Work Summary (for Claude/Gemini/GPT)

### Execution Context
- **Mission:** ${MISSION_NAME}
- **Project:** ${CURRENT_PROJECT_NAME}
- **Retry attempts:** ${RETRY_COUNT}/3
- **Timestamp:** $(date '+%Y-%m-%dT%H:%M:%S')

### Claude Code Work Summary
${ANALYSIS}
```

## æ³¨æ„äº‹é …
- æ—¢å­˜ã®ã‚¨ãƒ©ãƒ¼ãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½ã¯ä¸€åˆ‡å¤‰æ›´ã—ãªã„
- æˆåŠŸãƒ•ãƒ­ãƒ¼ã®æ—¢å­˜ã®å‹•ãï¼ˆgit pushã€LINEé€šçŸ¥ï¼‰ã¯å£Šã•ãªã„
- å„ãƒ•ã‚¡ã‚¤ãƒ«ã«v1.5ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ 
- 500è¡Œä»¥å†…ã‚’ç¶­æŒ
